<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>welcome to the resemble Project by l-ramirez-lopez</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><font color=B50202>welcome to the resemble Project</font> </h1>
        <p></p>

        <p class="view"><a href="https://github.com/l-ramirez-lopez/resemble">View the Project on GitHub <small>l-ramirez-lopez/resemble</small></a></p>


        <ul>
          <li><a href="https://github.com/l-ramirez-lopez/resemble/archive/1.1.2.zip">Download <strong>ZIP file</strong></a></li>
          <li><a href="https://github.com/l-ramirez-lopez/resemble/archive/1.1.2.tar.gz">Download <strong>TARBALL </strong></a></li>
          <li><a href="https://github.com/l-ramirez-lopez/resemble">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><img src="https://github.com/l-ramirez-lopez/resemble/blob/master/resemble_logo.png?raw=true" alt="image"></p>

<h1>
<a name="regression-and-similarity-evaluation-for-memory-based-learning-in-spectral-chemometrics-" class="anchor" href="#regression-and-similarity-evaluation-for-memory-based-learning-in-spectral-chemometrics-"><span class="octicon octicon-link"></span></a>Regression and similarity evaluation for memory-based learning in spectral chemometrics Â©</h1>

<p><em>Leonardo Ramirez-Lopez &amp; Antoine Stevens</em></p>

<p>The current (released) version of the package can be downloaded and installed directly from the <a href=" http://cran.r-project.org/web/packages/resemble/index.html">CRAN repository</a>. Pretty simple, you just have to type in your R console: </p>
<pre><code>install.packages('resemble')
</code></pre>


<p>In this website you can also get the last development version of the <code>resemble</code> package. You can download the <a href="https://github.com/l-ramirez-lopez/resemble/archive/1.1.2.zip">binary (.zip) file </a> or the <a href="https://github.com/l-ramirez-lopez/resemble/archive/1.1.2.tar.gz">source file (.tar.gz) </a> by selecting the corresponding option in the left panel. Remeber you should have <a href="http://cran.r-project.org/">R&gt;=3.0.2</a>. Supose you downloaded the binary file to 'C:/MyFolder/', then you should be able to install the package as follows:</p>

If you do not have the following packages installed, you should install them first</p>

<pre><code>install.packages('Rcpp')
install.packages('RcppArmadillo')
install.packages('pls')
install.packages('foreach')
install.packages('iterators')
</code></pre>

<p>Then, install <code>resemble</code></p>

<pre><code>install.packages('C:/MyFolder/resemble-1.1.2.zip')
</code></pre>

<p>or</p>

<pre><code>install.packages('C:/MyFolder/resemble-1.1.2.tar.gz', type = 'source')
</code></pre>

<p>You can also install the <code>resemble</code> package directly from github using <a href="http://cran.r-project.org/web/packages/devtools/index.html"><code>devtools</code></a> (with a proper installed version of <a href="http://cran.r-project.org/bin/windows/Rtools/">Rtools</a>):</p>

<pre><code>require("devtools")
install_github("resemble","l-ramirez-lopez")
</code></pre>


<p>After installing <code>resemble</code> you should be also able to run the following lines:</p>

<pre><code>require(resemble)

help(mbl)

#install.packages('prospectr')
require(prospectr)

data(NIRsoil)

Xu &lt;- NIRsoil$spc[!as.logical(NIRsoil$train),]
Yu &lt;- NIRsoil$CEC[!as.logical(NIRsoil$train)]
Yr &lt;- NIRsoil$CEC[as.logical(NIRsoil$train)]
Xr &lt;- NIRsoil$spc[as.logical(NIRsoil$train),]

Xu &lt;- Xu[!is.na(Yu),]
Xr &lt;- Xr[!is.na(Yr),]

Yu &lt;- Yu[!is.na(Yu)]
Yr &lt;- Yr[!is.na(Yr)]

# Example of the mbl function
# A mbl approach (the spectrum-based learner) as implemented in Ramirez-Lopez et al. (2013)
# An exmaple where Yu is supposed to be unknown, but the Xu (spectral variables) are known
ctrl1 &lt;- mblControl(sm = 'pc', pcSelection = list('opc', 40),
                    valMethod = 'NNv',
                    scaled = TRUE, center = TRUE)

sbl.u &lt;- mbl(Yr = Yr, Xr = Xr, Yu = NULL, Xu = Xu,
             mblCtrl = ctrl1,
             dissUsage = 'predictors',
             k = seq(40, 150, by = 10),
             method = 'gpr')

getPredictions(sbl.u)
</code></pre>

<p><a href="http://l-ramirez-lopez.github.io/resemble/"><code>resemble</code></a> implements a function dedicated to non-linear modelling of complex visible and infrared spectral data based on memory-based learning (MBL, <em>a.k.a</em> instance-based learning or local modelling in the chemometrics literature). The package also includes functions for: computing and evaluate spectral similarity/dissimilarity matrices; projecting the spectra onto low dimensional orthogonal variables; removing irrelevant spectra from a reference set; etc. </p>

<hr><p>The functions for computing and evaluate spectral similarity/dissimilarity matrices can be summarized as follows:</p>

<p><strong><code>fDiss</code></strong>: Euclidean and Mahalanobis distances as well as the cosine dissimilarity (<em>a.k.a</em> spectral angle mapper)<br><strong><code>corDiss</code>:</strong>                correlation and moving window correlation dissimilarity<br><strong><code>sid</code></strong>:                    spectral information divergence between spectra or between the probability distributions of spectra<br><strong><code>orthoDiss</code></strong>:              principal components and partial least squares dissimilarity (including several options)<br><strong><code>simEval</code></strong>:                evaluates a given similarity/dissimilarity matrix based on the concept of side information                 </p>

<hr><p>The functions for projecting the spectra onto low dimensional orthogonal variables are:</p>

<p><strong><code>pcProjection</code></strong>:            projects the spectra onto a principal component space<br><strong><code>plsProjection</code></strong>:           projects the spectra onto a partial least squares component space  (<em>a.k.a</em> projection to latent structures)<br><strong><code>orthoProjection</code></strong>:         reproduces either the <code>pcProjection</code> or the <code>plsProjection</code> functions                                          </p>

<hr><p>The projection functions also offer different options for optimizing/selecting the number of components involved in the projection.</p>

<p>The functions modelling the spectra using memory-based learning are:</p>

<p><strong><code>mblControl</code></strong>:              controls some modelling aspects of the <code>mbl</code> function<br><strong><code>mbl</code></strong>:                     models the spectra by memory-based learning                                                    </p>

<hr><p>Some additional miscellaneous functions are:</p>

<p><strong><code>print.mbl</code></strong>:prints a summary of the results obtained by the <code>mbl</code> function<br><strong><code>plot.mbl</code></strong>:                plots a summary of the results obtained by the <code>mbl</code> function<br><strong><code>print.localOrthoDiss</code></strong>:    prints local distance matrices generated with the <code>orthoDiss</code> function </p>

<hr><p>In order to expand a little bit more the explanation on the <code>mbl</code> function, let's define first the basic input datasets:</p>

<ul>
<li><p><strong>Reference (training) set</strong>: Dataset with <em>n</em> reference samples (e.g. spectral library) to be used in the calibration of spectral models. Xr represents the matrix of samples (containing the spectral predictor variables) and Yr represents a given response variable corresponding to Xr.</p></li>
<li><p><strong>Prediction set</strong> : Data set with <em>m</em> samples where the response variable (Yu) is unknown. However it can be predicted by applying a spectral model (calibrated by using Xr and Yr) on the spectra of these samples (Xu). </p></li>
</ul><p>In order to predict each value in Yu, the <code>mbl</code> function takes each sample in Xu and searches in Xr for its <em>k</em>-nearest neighbours (most spectrally similar samples). Then a (local) model is calibrated with these (reference) neighbours and it immediately predicts the correspondent value in Yu from Xu. In the function, the <em>k</em>-nearest neighbour search is performed by computing spectral similarity/dissimilarity matrices between samples. The <code>mbl</code> function offers the following regression options for calibrating the (local) models:</p>

<p><strong><code>'gpr'</code></strong>:                                   Gaussian process with linear kernel<br><strong><code>'pls'</code></strong>:                                   Partial least squares<br><strong><code>'wapls1'</code></strong>:                                Weighted average partial least squares 1<br><strong><code>'wapls2'</code></strong>:                                Weighted average partial least squares 2   </p>

<h2>
<a name="keywords" class="anchor" href="#keywords"><span class="octicon octicon-link"></span></a>Keywords</h2>

<ul>
<li><em>Infrared spectroscopy</em></li>
<li><em>Chemometrics</em></li>
<li><em>Local modelling</em></li>
<li><em>Spectral library</em></li>
<li><em>Lazy learning</em></li>
<li><em>Soil spectroscopy</em></li>
</ul><h2>
<a name="news" class="anchor" href="#news"><span class="octicon octicon-link"></span></a>News</h2>

<p>2014-03: The package was released on CRAN!</p>

<h2>
<a name="other-related-stuff" class="anchor" href="#other-related-stuff"><span class="octicon octicon-link"></span></a>Other R'elated stuff</h2>

<ul>
<li><a href="http://antoinestevens.github.io/prospectr/">Check out our other project called <code>prospectr</code>.</a></li>
<li><a href="http://www.fao.org/fileadmin/user_upload/GSP/docs/Spectroscopy_dec13/SSW2013_f.pdf"> Check this presentation in which we used the <code> resemble </code> package was used to predict soil attributes from large scale soil spectral libraries. </a></li>
</ul><h2>
<a name="bug-report-and-development-version" class="anchor" href="#bug-report-and-development-version"><span class="octicon octicon-link"></span></a>Bug report and development version</h2>

<p>You can send an email to the package maintainer (<a href="mailto:leonardo.ramirez@usys.ethz.ch">leonardo.ramirez@usys.ethz.ch</a>; <a href="mailto:leonardo.ramirez@wsl.ch">leonardo.ramirez@wsl.ch</a>) or create an <a href="https://github.com/l-ramirez-lopez/resemble/issues">issue</a> on github. </p>


      </section>
      <footer>
        <p>This project is maintained by <br><a href="https://github.com/l-ramirez-lopez">Leo Ramirez-Lopez (l-ramirez-lopez)</a></br></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-46376363-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
